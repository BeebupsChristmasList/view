<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beebup's Christmas List</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Mountains+of+Christmas:wght@700&display=swap" rel="stylesheet">
    
    <!-- Custom Tailwind Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Inter', 'sans-serif'],
                        'display': ['"Mountains of Christmas"', 'cursive'],
                    },
                    colors: {
                        'festive-green': '#166534', // A deep green
                        'festive-red': '#DC2626',   // A bright red
                        'festive-gold': '#FBBF24',  // A warm gold
                        'night-bg': '#111827',     // A dark blue/black
                    }
                }
            }
        }
    </script>
    
    <!-- Custom CSS for Animations and Layout -->
    <style>
        /* Custom cursor styles */
        body {
            /* Hide the default cursor on desktops */
            cursor: none;
        }
        .cursor-dot, .cursor-outline {
            display: none; /* Hidden by default, shown on md: */
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 9999;
            transform: translate(-50%, -50%);
            transition: all 0.1s linear;
        }
        .cursor-dot {
            width: 8px;
            height: 8px;
            background-color: white;
            border-radius: 50%;
        }
        .cursor-outline {
            width: 40px;
            height: 40px;
            border: 2px solid white;
            border-radius: 50%;
            transition: all 0.15s ease-out;
        }
        /* Show cursor only on non-touch devices */
        @media (min-width: 768px) and (pointer: fine) {
            body {
                cursor: none;
            }
            .cursor-dot, .cursor-outline {
                display: block;
            }
        }
        /* Cursor grow effect */
        .cursor-outline.grow {
            transform: translate(-50%, -50%) scale(1.5);
            background-color: rgba(255, 255, 255, 0.1);
        }

        /* Festive text glow animation */
        @keyframes festiveGlow {
            0% { text-shadow: 0 0 3px rgba(255, 255, 255, 0.1); }
            50% { text-shadow: 0 0 8px rgba(255, 255, 255, 0.4); }
            100% { text-shadow: 0 0 3px rgba(255, 255, 255, 0.1); }
        }
        /* Apply glow to festive colors */
        .text-festive-red {
            animation: festiveGlow 2.5s infinite alternate;
        }
        .text-festive-gold {
            animation: festiveGlow 2s infinite alternate;
        }


        /* CSS-Only Snowfall Animation */
        .snowflake {
            position: absolute;
            top: -20px;
            background: white;
            border-radius: 50%;
            opacity: 0.8;
            animation: fall linear infinite;
        }
        /* Keyframes for snow are now generated by JS for randomness */


        /* Hero text fade-in */
        .hero-text {
            animation: fadeIn 2s ease-out;
            /* Add transition for smooth parallax scrolling */
            transition: opacity 0.2s linear, transform 0.2s linear;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* UPDATED: Scroll-reveal animation (smoother and more subtle) */
        .reveal-item {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
            /* Delay is now set by JS for stagger effect */
            transition-delay: var(--reveal-delay, 0s);
        }
        .reveal-item.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* REMOVED: 3D Tilt perspective */
        
        .gift-card {
            /* UPDATED: This transition now smooths the mobile :active state */
            transition: transform 0.4s cubic-bezier(0.23, 1, 0.32, 1);
            /* Added gold border for "present" feel */
            border-top: 4px solid #FBBF24; /* festive-gold */
        }
        
        /* Style for the link, to make it fill the card */
        .gift-card-link {
            display: block;
            text-decoration: none;
            /* This makes the tilt/reveal apply to the link wrapper */
            transition: transform 0.4s cubic-bezier(0.23, 1, 0.32, 1);
        }

        /* Simple tap-to-scale effect for touch devices */
        .gift-card-link:active .gift-card {
            transform: scale(1.05);
            transition: transform 0.1s ease-out;
        }


        /* Countdown Timer Styles */
        #countdown-timer {
            text-align: center;
            margin: 4rem auto;
            max-width: 600px;
        }
        #countdown-timer .countdown-title {
            font-family: 'Mountains of Christmas', cursive;
            font-size: 2.5rem; /* 40px */
            color: #FBBF24; /* festive-gold */
        }
        .countdown-blocks {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
        }
        .countdown-block {
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem 1.5rem;
            border-radius: 8px;
            min-width: 80px;
        }
        .countdown-block span {
            display: block;
        }
        .countdown-number {
            font-size: 2.25rem; /* 36px */
            font-weight: 700;
            color: white;
            line-height: 1;
        }
        .countdown-label {
            font-size: 0.875rem; /* 14px */
            color: #d1d5db; /* gray-300 */
            text-transform: uppercase;
            margin-top: 0.25rem;
        }
        
        /* REMOVED: Garland and Lights Styles */

    </style>
</head>
<body class="bg-night-bg font-sans text-gray-200">

    <!-- NEW: HTML Audio Tag -->
    <!-- This is hidden. 'src' points to the file you'll need to add. -->
    <audio id="bg-music" src="./jingle-bells.mp3" loop></audio>

    <!-- Custom Cursor Elements -->
    <div class="cursor-dot" id="cursor-dot"></div>
    <div class="cursor-outline" id="cursor-outline"></div>

    <!-- REMOVED: Sticky Garland Header -->
    <!-- REMOVED: Music Toggle Button -->

    <!-- Snowfall Container (z-0) -->
    <div class="fixed top-0 left-0 w-full h-full overflow-hidden z-0" aria-hidden="true" id="snow-container">
        <!-- Snowflakes will be added here by JavaScript -->
    </div>

    <!-- Main Content (z-10 to be above the snow) -->
    <div class="relative z-10">

        <!-- Hero Section -->
        <header class="min-h-screen flex flex-col items-center justify-center text-center p-4 overflow-hidden">
            <!-- REMOVED: pt-16 -->
            <div class="hero-text">
                <h1 class="font-display text-7xl md:text-9xl text-white">Beebup's</h1>
                <h2 class="font-display text-5xl md:text-7xl text-festive-red">Christmas List</h2>
            </div>
            <!-- REMOVED: Scroll-down arrow -->
        </header>


        <!-- Responsive Gift Grid Section -->
        <section 
            id="gift-grid" 
            class="gift-grid container mx-auto max-w-6xl p-4 md:p-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12"
        >
            <!-- Gift items will be dynamically injected here for all devices -->
        </section>

        <!-- Christmas Countdown Timer -->
        <section id="countdown-timer">
            <h2 class="countdown-title text-festive-gold">Countdown to Christmas</h2>
            <div class="countdown-blocks">
                <div class="countdown-block">
                    <span id="countdown-days" class="countdown-number">00</span>
                    <span class="countdown-label">Days</span>
                </div>
                <div class="countdown-block">
                    <span id="countdown-hours" class="countdown-number">00</span>
                    <span class="countdown-label">Hours</span>
                </div>
                <div class="countdown-block">
                    <span id="countdown-minutes" class="countdown-number">00</span>
                    <span class="countdown-label">Minutes</span>
                </div>
                <div class="countdown-block">
                    <span id="countdown-seconds" class="countdown-number">00</span>
                    <span class="countdown-label">Seconds</span>
                </div>
            </div>
            <h3 id="countdown-message" class="countdown-title text-festive-red" style="display:none; margin-top: 1rem;">Merry Christmas!</h3>
        </section>

        <!-- REMOVED: Footer -->

    </div>

    <script>
        // ------------------------------------------------------------------
        // ðŸŽ„ðŸŽ ATTENTION! ADD/EDIT YOUR CHRISTMAS GIFTS HERE! ðŸŽðŸŽ„
        // ------------------------------------------------------------------
        const giftList = [
            {
                name: "Cozy Wool Socks",
                price: "$25.00",
                imageUrl: "https://placehold.co/600x400/DC2626/FFFFFF?text=Wool+Socks",
                buyUrl: "https://www.amazon.com/" // Placeholder link
            },
            {
                name: "Noise-Cancelling Headphones",
                price: "$249.99",
                imageUrl: "https://placehold.co/600x400/166534/FFFFFF?text=Headphones",
                buyUrl: "https://www.amazon.com/" // Placeholder link
            },
            {
                name: "A Really Good Book",
                price: "$18.50",
                imageUrl: "https://placehold.co/600x400/FBBF24/111827?text=A+Good+Book",
                buyUrl: "https://www.amazon.com/" // Placeholder link
            },
            {
                name: "Fancy Coffee Maker",
                price: "$120.00",
                imageUrl: "https://placehold.co/600x400/e2e8f0/111827?text=Coffee+Maker",
                buyUrl: "https://www.amazon.com/" // Placeholder link
            },
            {
                name: "Lego Bonsai Tree",
                price: "$49.99",
                imageUrl: "https://placehold.co/600x400/3B82F6/FFFFFF?text=Lego+Bonsai",
                buyUrl: "https://www.amazon.com/" // Placeholder link
            },
            {
                name: "A New Plant Friend",
                price: "$35.00",
                imageUrl: "https://placehold.co/600x400/10B981/FFFFFF?text=Plant",
                buyUrl: "https://www.amazon.com/" // Placeholder link
            }
        ];
        // --- End of easy-edit section ---
        
        
        
        // --- Core Application Logic (No need to edit below) ---
        
        document.addEventListener('DOMContentLoaded', () => {
            const giftGrid = document.getElementById('gift-grid');
            const snowContainer = document.getElementById('snow-container');
            const cursorDot = document.getElementById('cursor-dot');
            const cursorOutline = document.getElementById('cursor-outline');

            // 1. Generate Gift Cards
            function renderGifts() {
                if (!giftGrid) return;
                giftGrid.innerHTML = '';
                
                giftList.forEach(gift => {
                    // REMOVED: data-tilt attribute
                    const cardHtml = `
                        <a 
                            href="${gift.buyUrl}"
                            target="_blank" 
                            rel="noopener noreferrer"
                            class="gift-card-link reveal-item"
                        >
                            <div 
                                class="gift-card bg-white rounded-lg shadow-2xl w-full overflow-hidden"
                            >
                                <img 
                                    src="${gift.imageUrl}" 
                                    alt="${gift.name}" 
                                    class="w-full h-64 object-cover"
                                    onerror="this.src='https://placehold.co/600x400/6b7280/FFFFFF?text=Image+Missing'; this.onerror=null;"
                                >
                                <div class="p-5 h-1/3 flex flex-col justify-between">
                                    <h3 class="text-2xl font-bold text-gray-900">${gift.name}</h3>
                                    <p class="text-xl text-festive-green font-semibold">${gift.price}</p>
                                </div>
                            </div>
                        </a>
                    `;
                    giftGrid.insertAdjacentHTML('beforeend', cardHtml);
                });

                // After rendering, initialize new effects
                initScrollReveal();
                // REMOVED: initMagneticTilt();
                initCursorHover();
            }
            
            // 2. Scroll-Reveal Effect
            function initScrollReveal() {
                const revealItems = document.querySelectorAll('.reveal-item');
                
                const observerOptions = {
                    root: null,
                    rootMargin: '0px',
                    threshold: 0.1
                };

                const observer = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('is-visible');
                            observer.unobserve(entry.target);
                        }
                    });
                }, observerOptions);

                revealItems.forEach((item, index) => {
                    item.style.setProperty('--reveal-delay', `${index * 100}ms`);
                    observer.observe(item);
                });
            }

            // 3. REMOVED: 3D "Magnetic" Tilt Effect
            
            // 4. Custom Cursor Logic
            function initCustomCursor() {
                // Don't run on touch devices
                const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
                if (isTouchDevice) return;

                window.addEventListener('mousemove', (e) => {
                    const { clientX, clientY } = e;
                    cursorDot.style.left = `${clientX}px`;
                    cursorDot.style.top = `${clientY}px`;
                    
                    cursorOutline.style.left = `${clientX}px`;
                    cursorOutline.style.top = `${clientY}px`;
                });
            }
            
            // 5. Cursor Hover Effect
            function initCursorHover() {
                // Don't run on touch devices
                const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
                if (isTouchDevice) return;
            
                // UPDATED: Now targets the link, not [data-tilt]
                const hoverItems = document.querySelectorAll('.gift-card-link');
                hoverItems.forEach(item => {
                    item.addEventListener('mouseenter', () => {
                        cursorOutline.classList.add('grow');
                    });
                    item.addEventListener('mouseleave', () => {
                        cursorOutline.classList.remove('grow');
                    });
                });
            }

            // 6. Create Snowflakes
            function createSnowflakes() {
                if (!snowContainer) return;
                const flakeCount = 50;
                for (let i = 0; i < flakeCount; i++) {
                    const flake = document.createElement('div');
                    flake.className = 'snowflake';
                    
                    const size = Math.random() * 5 + 2;
                    flake.style.width = `${size}px`;
                    flake.style.height = `${size}px`;
                    flake.style.left = `${Math.random() * 100}vw`;
                    
                    const duration = Math.random() * 5 + 5;
                    const delay = Math.random() * 5;
                    
                    flake.style.animationDuration = `${duration}s`;
                    flake.style.animationDelay = `${delay}s`;
                    
                    const horizontalDrift = (Math.random() - 0.5) * 10;
                    flake.style.animationName = `fall-${i}`;
                    
                    const keyframes = `
                        @keyframes fall-${i} {
                            0% { transform: translateY(-5vh) translateX(0vw); opacity: 0.8; }
                            100% { transform: translateY(105vh) translateX(${horizontalDrift}vw); opacity: 0.5; }
                        }
                    `;
                    
                    if (!document.getElementById(`snow-style-${i}`)) {
                        const styleSheet = document.createElement("style");
                        styleSheet.id = `snow-style-${i}`;
                        styleSheet.innerText = keyframes;
                        document.head.appendChild(styleSheet);
                    }
                    
                    snowContainer.appendChild(flake);
                }
            }
            
            // 7. Parallax Hero Effect
            function handleScroll() {
                const heroText = document.querySelector('.hero-text');
                const heroHeader = heroText ? heroText.closest('header') : null;
                
                if (heroText && heroHeader) {
                    const scrollY = window.scrollY;
                    const heroHeight = heroHeader.offsetHeight;
                    
                    if (scrollY < heroHeight) {
                        const progress = scrollY / heroHeight;
                        heroText.style.transform = `translateY(${scrollY * 0.4}px)`;
                        heroText.style.opacity = (1 - progress).toString();
                    }
                }
            }

            // 8. Christmas Countdown Timer Logic
            function initCountdown() {
                const daysEl = document.getElementById('countdown-days');
                const hoursEl = document.getElementById('countdown-hours');
                const minutesEl = document.getElementById('countdown-minutes');
                const secondsEl = document.getElementById('countdown-seconds');
                const timerContainer = document.querySelector('.countdown-blocks');
                const messageEl = document.getElementById('countdown-message');
                
                const currentYear = new Date().getFullYear();
                const christmasDay = new Date(`December 25, ${currentYear} 00:00:00`).getTime();

                function updateCountdown() {
                    const now = new Date().getTime();
                    const distance = christmasDay - now;

                    if (distance < 0) {
                        if (timerContainer) timerContainer.style.display = 'none';
                        if (messageEl) messageEl.style.display = 'block';
                        clearInterval(countdownInterval);
                        return;
                    }

                    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                    if (daysEl) daysEl.innerText = days.toString().padStart(2, '0');
                    if (hoursEl) hoursEl.innerText = hours.toString().padStart(2, '0');
                    if (minutesEl) minutesEl.innerText = minutes.toString().padStart(2, '0');
                    if (secondsEl) secondsEl.innerText = seconds.toString().padStart(2, '0');
                }

                updateCountdown();
                const countdownInterval = setInterval(updateCountdown, 1000);
            }
            
            // 9. REMOVED: Garland Lights Logic
            
            // 10. NEW: Music Auto-play on user interaction
            function initAutoplayMusic() {
                const music = document.getElementById('bg-music');
                if (!music) return;

                async function playMusic() {
                    try {
                        await music.play();
                    } catch (err) {
                        console.log("Music play failed. User may need to interact again.", err);
                    }
                }

                // This "once: true" part is key. It runs this function
                // only on the *first* time the user clicks or scrolls.
                const options = { once: true };
                document.addEventListener('click', playMusic, options);
                document.addEventListener('scroll', playMusic, options);
            }
            
            // Run all initialization functions
            renderGifts();
            initCustomCursor();
            createSnowflakes();
            initCountdown();
            initAutoplayMusic(); // NEW
            
            // Add the scroll listener
            window.addEventListener('scroll', handleScroll);
        });
    </script>

</body>
</html>

