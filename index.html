<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beebup's Christmas List - A professional list for a professional Beebup</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Mountains+of+Christmas:wght@700&display=swap" rel="stylesheet">
    
    <!-- Custom Tailwind Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Inter', 'sans-serif'],
                        'display': ['"Mountains of Christmas"', 'cursive'],
                    },
                    colors: {
                        'festive-green': '#166534', // A deep green
                        'festive-red': '#DC2626',   // A bright red
                        'festive-gold': '#FBBF24',  // A warm gold
                        'night-bg': '#111827',     // A dark blue/black
                    }
                }
            }
        }
    </script>
    
    <!-- Custom CSS for Animations and Layout -->
    <style>
        /* Custom cursor styles */
        body {
            /* Hide the default cursor on desktops */
            cursor: none;
            overflow-x: hidden; /* Prevent scrollbar flickering from snow */
        }
        .cursor-dot, .cursor-outline {
            display: none; /* Hidden by default, shown on md: */
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 9999;
            transform: translate(-50%, -50%);
            transition: all 0.1s linear;
        }
        .cursor-dot {
            width: 8px;
            height: 8px;
            background-color: white;
            border-radius: 50%;
        }
        .cursor-outline {
            width: 40px;
            height: 40px;
            border: 2px solid white;
            border-radius: 50%;
            transition: all 0.15s ease-out;
        }
        /* Show cursor only on non-touch devices */
        @media (min-width: 768px) and (pointer: fine) {
            body {
                cursor: none;
            }
            .cursor-dot, .cursor-outline {
                display: block;
            }
        }
        /* Cursor grow effect */
        .cursor-outline.grow {
            transform: translate(-50%, -50%) scale(1.5);
            background-color: rgba(255, 255, 255, 0.1);
        }

        /* Festive text glow animation */
        @keyframes festiveGlow {
            0% { text-shadow: 0 0 3px rgba(255, 255, 255, 0.1); }
            50% { text-shadow: 0 0 8px rgba(255, 255, 255, 0.4); }
            100% { text-shadow: 0 0 3px rgba(255, 255, 255, 0.1); }
        }
        /* Apply glow to festive colors */
        .text-festive-red {
            animation: festiveGlow 2.5s infinite alternate;
        }
        .text-festive-gold {
            animation: festiveGlow 2s infinite alternate;
        }


        /* JS-Driven Snowfall Styles */
        .snowflake {
            position: fixed;
            top: 0;
            background: white;
            border-radius: 50%;
            opacity: 0.8;
            pointer-events: none;
            z-index: 0;
        }


        /* Hero text fade-in */
        .hero-text {
            animation: fadeIn 2s ease-out;
            /* Add transition for smooth parallax scrolling */
            transition: opacity 0.2s linear, transform 0.2s linear;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* UPDATED: Scroll-reveal animation (stronger effect) */
        .reveal-item {
            opacity: 0;
            transform: translateY(40px); /* Increased from 20px */
            transition: opacity 1s ease-out, transform 1s ease-out; /* Increased from 0.8s */
            /* Delay is now set by JS for stagger effect */
            transition-delay: var(--reveal-delay, 0s);
        }
        .reveal-item.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .gift-card {
            /* UPDATED: This transition now smooths the mobile :active state */
            transition: transform 0.4s cubic-bezier(0.23, 1, 0.32, 1), filter 0.5s ease;
            /* Added gold border for "present" feel */
            border-top: 4px solid #FBBF24; /* festive-gold */
        }
        
        /* NEW: Greyed out state for unpurchased items */
        .gift-card.is-greyed {
            filter: grayscale(100%) opacity(0.6);
        }
        .gift-card.is-greyed:hover {
            filter: grayscale(80%) opacity(0.8); /* Slight hover effect */
        }
        
        /* Style for the link, to make it fill the card */
        .gift-card-link {
            display: block;
            text-decoration: none;
            /* This makes the tilt/reveal apply to the link wrapper */
            transition: transform 0.4s cubic-bezier(0.23, 1, 0.32, 1);
        }

        /* Simple tap-to-scale effect for touch devices */
        .gift-card-link:active .gift-card {
            transform: scale(1.05);
            transition: transform 0.1s ease-out;
        }


        /* --- NEW: Info Button and Popup Styles --- */
        
        /* Make card content area a positioning context */
        .gift-card .p-5 {
            position: relative;
        }

        /* Info Button Styles */
        .info-btn {
            position: absolute;
            top: 1rem; /* 16px */
            right: 1rem; /* 16px */
            width: 1.5rem; /* 24px */
            height: 1.5rem; /* 24px */
            border-radius: 50%;
            background-color: #6b7280; /* gray-500 */
            color: white;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 20;
            transition: background-color 0.2s;
            font-style: normal; /* In case 'i' tag is used */
            line-height: 1; /* Center the 'i' */
        }
        .info-btn:hover {
            background-color: #4b5563; /* gray-600 */
        }
        

        /* Info Popup Styles */
        .info-popup {
            position: absolute;
            top: 3rem; /* 48px - below the button */
            right: 1rem; /* 16px */
            width: 200px;
            background-color: #1f2937; /* gray-800 */
            color: white;
            padding: 0.75rem;
            border-radius: 0.375rem; /* rounded-md */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 30;
            font-size: 0.875rem; /* 14px */
            line-height: 1.4;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: opacity 0.2s ease-out, visibility 0.2s ease-out, transform 0.2s ease-out;
        }

        .info-popup.is-visible {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        /* --- End of Info Button Styles --- */
        
    </style>
</head>
<body class="bg-night-bg font-sans text-gray-200">

    <!-- NEW: HTML Audio Tag -->
    <!-- This is hidden. 'src' points to the file you'll need to add. -->
    <audio id="bg-music" src="./jingle-bells.mp3" loop></audio>

    <!-- Custom Cursor Elements -->
    <div class="cursor-dot" id="cursor-dot"></div>
    <div class="cursor-outline" id="cursor-outline"></div>

    <!-- Snowfall Container (z-0) -->
    <div class="fixed top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none" aria-hidden="true" id="snow-container">
        <!-- Snowflakes will be added here by JavaScript -->
    </div>

    <!-- NEW: Wonderland Entry Popup -->
    <div id="wonderland-overlay" class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-md cursor-pointer transition-opacity duration-500">
        <h2 class="font-display text-5xl text-white text-center p-4">
            enter the wonderland
        </h2>
    </div>

    <!-- Main Content (z-10 to be above the snow) -->
    <!-- UPDATED: Added blur and ID -->
    <div id="main-content" class="relative z-10 blur-md transition-all duration-500">

        <!-- Hero Section -->
        <header class="min-h-screen flex flex-col items-center justify-center text-center p-4 overflow-hidden">
            <div class="hero-text">
                <h1 class="font-display text-7xl md:text-9xl text-white">Beebup's</h1>
                <h2 class="font-display text-5xl md:text-7xl text-festive-red">Christmas List</h2>
            </div>
        </header>


        <!-- Responsive Gift Grid Section -->
        <!-- UPDATED: grid-cols-2 for mobile -->
        <section 
            id="gift-grid" 
            class="gift-grid container mx-auto max-w-6xl p-4 md:p-8 grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-8 lg:gap-12"
        >
            <!-- Gift items will be dynamically injected here for all devices -->
        </section>

        <!-- NEW: Footer -->
        <footer class="text-center p-8 mt-8">
            <p class="font-display text-4xl text-festive-gold">Happy Birthday Jesus!</p>
        </footer>

    </div>

    <script>
        // ------------------------------------------------------------------
        // ðŸŽ„ðŸŽ ADD/EDIT CHRISTMAS GIFTS HERE! ðŸŽðŸŽ„
        // ------------------------------------------------------------------
        // Set 'obtained: true' if Beebup has the gift, 'obtained: false' if not.
        const giftList = [
            {
                name: "DJI RS4 Mini Combo",
                price: "$449.99",
                imageUrl: "https://m.media-amazon.com/images/I/61gLx01XtlL._AC_SX679_.jpg",
                buyUrl: "https://www.amazon.com/DJI-Stabilizer-Panasonic-Intelligent-Briefcase/dp/B0DJ2WQ498/ref=sr_1_1?crid=3IJJFYYW3TD78&dib=eyJ2IjoiMSJ9.zRFhJ5j-UDaAxfn-j-x7y27vRr5AsfOVlst3i6l5Pd3fLwbeE7fu1QGHHyUi-xYQusJSiw0ZCXbEfQBmHN-DL8uPW1S0j99Tws1EJhh7Z2nyt5B1vdtzMUosF4vjWSq1G6bAWbDsSatwgBYi8UWXZrGCHYSfna9hHWqAh26SMAAiOkBfDpRIbnWcHWdDSsSTAKI63B1mS5mqYo3lz1Ad0kWRTKcj2RUiZSFLND4GGDk.XUnbwyyHrYMUg4djgpqDOLR5V13DVEdVdq4lGtuqrcQ&dib_tag=se&keywords=dji%2Brs4mini&qid=1762135671&sprefix=dji%2Brs4mini%2Caps%2C169&sr=8-1&th=1",
                info: "with the dji ban, these will become very hard to find",
                obtained: true
            },
            {
                name: "EOS R6 Mark II RF24-105mm F4 L IS USM Lens Kit",
                price: "$3,249",
                imageUrl: "https://s7d1.scene7.com/is/image/canon/5666C011_eos-r6-mark-ii-rf24-105mm-f4-l-is-usm_primary?fmt=webp-alpha&wid=800",
                buyUrl: "https://www.usa.canon.com/shop/p/eos-r6-mark-ii-rf24-105mm-f4-l-is-usm-lens-kit?color=Black&type=New",
                tagline: {
                    text: "Sale",
                    color: "text-festive-red"
                },
                obtained: false
            },
            {
                name: "SD cards â€“ 128GB â€“ pack of 2 (I would love more than 1)",
                price: "$32.34",
                imageUrl: "https://m.media-amazon.com/images/I/71Ow-Ih7KNL._AC_SL1500_.jpg",
                buyUrl: "https://www.amazon.com/SanDisk-256GB-microSDXC-Memory-Adapter/dp/B0B7NVV55M/ref=sr_1_1?crid=30P478AYLW9HX&dib=eyJ2IjoiMSJ9.yrP4UaR9Qm2nBvVQHjgYJEpNXonDIQwZokvEC0EQy-Wr17_gckcoFIOZ2e-Wo9DjMzIV_lmrdjPGrV5vU5MX-9SE4jkwDOJnst5HtdJeLtWkmbSuCZLPEsoolA617tlBqpb9e20Gml2voyr3u5NuqoLkkCnJpPYVhd7EC62GRQd4dsRliRXByAt8pTYuMZ9lnkLVtxPnt4WNCw__SNySj-L_JRurkvDhlMeLrWdz2R5CRp9B1Kcc18dVVPYLItWz8sD6dhRBj0jz0BrXGES9Yo06NEZhNi7jfji8KANp6aI.I8VlhnlApfmY9rnxpctnI3KTwI8_l3UCaGz0hNUxnOk&dib_tag=se&keywords=sandisk%2Bmicro%2Bsd%2Bcard&qid=1761916193&s=electronics&sprefix=sandisk%2Bmicro%2Bsd%2Bcard%2Celectronics%2C123&sr=1-1&th=1",
                info: "this one got $4 more expensive",
                obtained: true
            },
            {
                name: "GeoFS HD (higher resolution for my flight simulator)",
                price: "$14.06",
                imageUrl: "https://www.geo-fs.com/images/squareposter.jpg",
                buyUrl: "https://placehold.co/1400x900/10B981/FFFFFF?text=I would need to log you into my account on Christmas",
                info: "I would need to log you into my account on Christmas",
                obtained: false
            },
            {
                name: "Stream Deck Mini",
                price: "$57.99",
                imageUrl: "https://m.media-amazon.com/images/I/61w+a4IDpsL._AC_SX679_.jpg",
                buyUrl: "https://www.amazon.com/Elgato-Stream-Deck-Mini-customizable/dp/B07DYRS1WH/ref=sr_1_3?crid=291JDZO5OSXUE&dib=eyJ2IjoiMSJ9.sO3yMvmKJlAh2MIAFKbXxqShKupox8EHmver9cmgDoDJ8wMcxKSCmatvv3Y1iL4HqhiFHKLXAy1O5htauPATDrIjdCUY1vx3kVomxicC-lk4xD2KGfOc8oC_n_q2k4m6XfuzfW0kz74kUVvhLxQK1oOLNlK4TMLBRMWzj-ut-e2JjG-vwNrr923S70oQ6guugN_azepMPWNh7e_mxvYQcSXN1Sr2G94qMDz9G8CYCEI.lEovS6Rv6YGQZxGK53KASpoCGg4_6xe5ghorUsg3PoA&dib_tag=se&keywords=stream+deck+mini&qid=1762126248&sprefix=stream+deck+mini%2Caps%2C154&sr=8-3",
                obtained: true
            },
            {
                name: "RGB Tube Light with Desk Tripod",
                price: "$63.49",
                imageUrl: "https://m.media-amazon.com/images/I/61E-mjbY+bL._AC_SX679_.jpg",
                buyUrl: "https://www.amazon.com/Magnetic-Handheld-Photography-2500K-8500K-Dimmable/dp/B0DXFFFQ4H/ref=sr_1_4?crid=2F53BJ0YQNCFG&dib=eyJ2IjoiMSJ9.KAcFSVz4ZuI7JcnZxEHcFkUjvlaYnnYkstCNptBI5ULUjzaYjeZtExGLE1BjWW8R7m20b_J7jjSa60vptFUQBy0mihq66CdaIUSo9X05VZg_PpfGRRakZXy92gUUJiBV3bHYXN1Bl6swYTXx7u88uF72999yaeCs2AFFYbq4RdixsstxqnPhdTQdSqhsqL0-DuJkRWpLAEiRcU97xcyqhDYzbawme0MyOn9FS2wI2I.D_rJKYuNxlzizU-5JxXZx9e9h23Lml7gfQNIS51Wd38&dib_tag=se&keywords=rgb%2Btube%2Blight&qid=1762126409&sprefix=rgb%2Btube%2Blight%2Caps%2C158&sr=8-4&th=1",
                tagline: {
                    text: "Out of stock",
                    color: "text-festive-red"
                },
                obtained: true
            },
            {
                name: "Car",
                price: "$???",
                imageUrl: "https://www.lamborghini.com/sites/it-en/files/DAM/lamborghini/0_facelift_2025/gateway_family/huracan/EVOSpyder-mobile.png",
                buyUrl: "https://www.hyundaiusa.com/us/en/",
                obtained: false
            },
            {
                name: "BB Nano",
                price: "$29.95",
                imageUrl: "https://m.media-amazon.com/images/I/61-1EcYC4tL._AC_SX679_.jpg",
                buyUrl: "https://www.amazon.com/NITECORE-BB-Versatile-Electronic-Photography/dp/B0CSK7ZF7R",
                info: "For cleaning dust off cameras, camera gear, or really anything",
                obtained: true
            },
            {
                name: "Drone Replacement Props",
                price: "$19.00",
                imageUrl: "https://m.media-amazon.com/images/I/41uLj8U4qCL._AC_SX679_.jpg",
                buyUrl: "https://www.amazon.com/DJI-Air-Low-Noise-Propellers-Compatibility/dp/B0C7GW8GX1?ref_=ast_sto_dp",
                info: "just like the gimbal, will become impossible to find in a few weeks",
                obtained: true
            },
            {
                name: "40W Dynamic Power Adapter",
                price: "$39.00",
                imageUrl: "https://store.storeimages.cdn-apple.com/1/as-images.apple.com/is/MGKN4?wid=1144&hei=1144&fmt=jpeg&qlt=90&.v=TElibVhiSHBCWitPaGNSaUJtRW5lZ2tuVHYzMERCZURia3c5SzJFOTlPZ01SYWV3QkpzZEx3VDJuSkU1YXBBM0xEQ1ZJK2s5Tklhc1RJUG05ckZjaGc",
                buyUrl: "https://www.apple.com/shop/product/mgkn4am/a/40w-dynamic-power-adapter-with-60w-max?fnode=6326eda5c6de2c9dd5b09a5a41d2e8759b0102ffc8dd100c9f0570c70987aa9b3e88a056b16448b6489fea39caed09e5e42bb29833bc5491f07e6bdf37e66871f2102226f2bb224672a9de9d3d642b58a9dd8a347dc9ad82edf5b5f26e8c16fde47572bf2f9b0de59c6719afc274fbecde37ca125485699e31d96a24cf8ded8d",
                info: "A special charger which helps to preserve battery life in a device",
                obtained: true
            },
            {
                name: "Anker iPhone Magsafe charger",
                price: "$39.99",
                imageUrl: "https://m.media-amazon.com/images/I/61U8sXviuIL._AC_SX679_.jpg",
                buyUrl: "https://www.amazon.com/Anker-MagSafe-Compatible-Wireless-Magnetic-Certified/dp/B0D8PN1GBP/ref=sr_1_5?crid=RZY0A5WLJF4B&dib=eyJ2IjoiMSJ9.aCDOQXz9rcwuflB1dE6XVFYDY2Tbj0DHBQVhvTJEj7i7B-HarurUw9Jq9BzkpHNPxVYTPYcWWgFG1NkzEYY8Duw0_2HHP27qlELK5es8xoAJ3wKxaRvCOKcvt7GBCGTkKaPb9nEQpc-CKv8xXWBtqlce5EyTDC2mdSyycOYPz2u2yp0DVNiLM-vgoTZBa0l0fe5CEWRAvqaxRPWJvvmq4mhDJixc3ls-s6cs2aBiH_0.tHmpk0LVv75ves7LOpU2-MYERTY-qtnYQBTP3EPOE0A&dib_tag=se&keywords=anker%2Bmagsafe%2Biphone%2Bholder%2Bfor%2Bdesk&qid=1764427046&sprefix=anker%2Bmagsafe%2Biphone%2Bholder%2Bfor%2Bdesk%2Caps%2C137&sr=8-5&th=1",
                obtained: true
            },
            {
                name: "Anker USB C Charger",
                price: "$25.99",
                imageUrl: "https://m.media-amazon.com/images/I/5164giE9fFL._AC_SX679_.jpg",
                buyUrl: "https://www.amazon.com/Anker-Charger-Compact-Foldable-MacBook/dp/B09C5RG6KV/ref=sr_1_1?crid=35WGWVK0OJRXX&dib=eyJ2IjoiMSJ9.Y2dNsh7Vv-2BF2XvPaAUjY9EprQyzNjH58C_1D91CfDTPfV6ZtwMMuAfvCEZw4CcRtu2w9a17TmvKRnxIo-B77z2w0XYS3rdLMzV1n6DvbhAOFK-eLSdQtp7Z-gzw86Xya2yIdDBT8P7eNNvvuJJTnPuNKtCdpF9DjgKhJCjqR5tFkQZ-JF9UrlH9N8DvkInObDqzf7bZwPMbBoJGHfsWysMdqfyqFh96QlgavxesZU.U0Y4bwL5C7AwLBjxKc7LussA9rjhb4M2IJplRodcRp4&dib_tag=se&keywords=anker+power+brick&qid=1764426933&sprefix=anker+power+brick%2Caps%2C159&sr=8-1",
                taglines: [
                    { text: "SALE - 35% OFF", color: "text-festive-red" }
                ],
                obtained: true
            },
            {
                name: "Insta360 Go 3 Magic Pendant",
                price: "$14.99",
                imageUrl: "https://res.insta360.com/dynamic/store/bd3e77c191b3ec9a3e1891c74ec28dae/731_e0dc57c8-6e7e-482c-b670-9091a4c993ee.png?x-oss-process=image%2Fauto-orient%2C1%2Fformat%2Cwebp",
                buyUrl: "https://store.insta360.com/product/go-3s-magnet-pendant?c=3164&from=search-results",
                obtained: true
            },
            {
                name: "Ridge Tracker Card (So I never lose my wallet)",
                price: "$45.00",
                imageUrl: "https://ridge.com/cdn/shop/files/TrackerCard-THUMBNAIL_4ea6a171-cbc5-46b3-aed5-8c0c3a54b586_2000x.jpg?v=1761926203",
                buyUrl: "https://ridge.com/products/tracker-card",
                obtained: true
            },
            {
                name: "Magnetic Cable Holders (or something similar)",
                price: "$11.13",
                imageUrl: "https://m.media-amazon.com/images/I/71Mf4YQoQ4L._AC_SX679_.jpg",
                buyUrl: "https://www.amazon.com/Adjustable-Management-JOYROOM-Organizer-Nightstand/dp/B0CGRQYCPT/ref=sr_1_2_sspa?crid=2Y0YV2B6HOXPI&dib=eyJ2IjoiMSJ9.4lA3OgXSaDMY6hp5sPMhgZY_2buQhyS8Mejg3ZJoku3ziIudRj4ImIxG3FtcWhcEo8FNu-Th9lPDZixaIfOxZAK0EmrAaV4XSsveuHvs9wYxMFszd_HwST4u2agU71fL8ygdAgHmIDurkSwxpEO61TaWoQtEuNi7Wn29TkSgbxHPmWqLPJfRXhSP5lO2HRnRlbn1_iFee2wEPEe9UCrY6jQ9tb3OiOu55bTNpKEX9MY.xVla47WUqR0VjOyUE0L5I-OeAfRl0lRMkTUld8LYoG8&dib_tag=se&keywords=cable+holder&qid=1762127300&sprefix=cable+holder%2Caps%2C219&sr=8-2-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&psc=1",
                obtained: true
            }
        ];
        // You can add stuff like ultra-fast sd cards, camera accessories, adapters, etc to bday list, beside, obviously, the star: the r6 mark ii:)
        // good sd card: https://www.amazon.com/Lexar-128GB-microSDXC-Memory-Adapter/dp/B0DRVVJ92H/ref=sr_1_2?crid=1V6Z8X1LW6BCQ&dib=eyJ2IjoiMSJ9.AtrSntln_EcqEsCFiU22doS8O-qwDO3DFQ4LpZOksEwuXNBLR74-BHBCY-9pi5zzWcGWXIFdWnFIFxUUufOLEO_JBKVVAxhx1eqvW-SXNDQ5X1XwXX0ECNWTlVs6xAo7hF4FNjZwiY5zMFS75jPvk1foPHuH3IY_Ny5YGSO9EtILjFViLpICxCeGtqHi3_8JYt_4OBA_3EE4jmgxD-C-YisaNfa8gcA3SxmLGW2BCbtH06tYKuRk40iA1PmQ2q1I5UnW6rUWuSl1MlvsubQmxteegTkZGwCIKcvlVf-_KMQ.HSs0e6J-_zNmMXLYxAF0cvBYfaQx0fdvzx4kfsJEit8&dib_tag=se&keywords=lexar%2Bmicro%2Bsd%2Bcard%2Bultra%2Bfast&qid=1766812490&refinements=p_n_feature_ten_browse-bin%3A13203834011&rnid=6518301011&s=electronics&sprefix=lexar%2Bmicro%2Bsd%2Bcard%2Bultra%2Bfast%2Celectronics%2C167&sr=1-2&th=1
        // --- End of easy-edit section ---
        
        
        
        // --- Core Application Logic ---
        
        document.addEventListener('DOMContentLoaded', () => {
            const giftGrid = document.getElementById('gift-grid');
            const snowContainer = document.getElementById('snow-container');
            const cursorDot = document.getElementById('cursor-dot');
            const cursorOutline = document.getElementById('cursor-outline');

            // --- 1. Render Gifts ---
            function renderGifts() {
                if (!giftGrid) return;
                giftGrid.innerHTML = '';
                
                giftList.forEach((gift, index) => {
                    // Check status property directly from the object
                    const isObtained = gift.obtained === true;
                    
                    // Determine classes based on status
                    // If obtained is false (default), it gets the greyed class.
                    const greyedClass = isObtained ? '' : 'is-greyed';

                    // Info Button
                    const infoHtml = gift.info ? `
                        <button 
                            class="info-btn" 
                            data-target="info-popup-${index}" 
                            aria-label="More info"
                            title="More info"
                        >
                            i
                        </button>
                        <div class="info-popup" id="info-popup-${index}">
                            ${gift.info}
                        </div>
                    ` : '';

                    const cardHtml = `
                        <div class="relative reveal-item">
                            <a 
                                href="${gift.buyUrl}"
                                target="_blank" 
                                rel="noopener noreferrer"
                                class="gift-card-link"
                            >
                                <div 
                                    class="gift-card bg-white rounded-lg shadow-2xl w-full overflow-hidden ${greyedClass}"
                                    id="card-${index}"
                                >
                                    <img 
                                        src="${gift.imageUrl}" 
                                        alt="${gift.name}" 
                                        class="w-full h-64 object-cover"
                                        onerror="this.src='https://placehold.co/600x400/6b7280/FFFFFF?text=Image+Missing'; this.onerror=null;"
                                    >
                                    <div class="p-5 h-1/3 flex flex-col justify-between">
                                        <!-- Info button is absolute positioned within here -->
                                        ${infoHtml}
                                        <div> <!-- Wrapper for top content -->
                                            ${gift.taglines ? gift.taglines.map(tag => `<p class="${tag.color} text-sm font-bold mb-1">${tag.text}</p>`).join('') : ''}
                                            ${gift.tagline ? `<p class="${gift.tagline.color} text-sm font-bold mb-1">${gift.tagline.text}</p>` : ''}
                                            <h3 class="text-2xl font-bold text-gray-900">${gift.name}</h3>
                                        </div>
                                        <p class="text-xl text-festive-green font-semibold mt-2">${gift.price}</p>
                                    </div>
                                </div>
                            </a>
                        </div>
                    `;
                    giftGrid.insertAdjacentHTML('beforeend', cardHtml);
                });


                initScrollReveal();
                initCursorHover();
            }
            

            // --- 2. Interactive Snow Logic (Replaced CSS animation) ---
            function initInteractiveSnow() {
                if (!snowContainer) return;

                const flakes = [];
                const flakeCount = 100;
                let mouseX = window.innerWidth / 2; // Default center
                const centerX = window.innerWidth / 2;
                
                // Wind force based on mouse position relative to center
                let targetWindX = 0;
                let currentWindX = 0;

                // Create flakes
                for (let i = 0; i < flakeCount; i++) {
                    const el = document.createElement('div');
                    el.className = 'snowflake';
                    
                    // Random properties
                    const size = Math.random() * 5 + 2;
                    el.style.width = `${size}px`;
                    el.style.height = `${size}px`;
                    
                    snowContainer.appendChild(el);
                    
                    flakes.push({
                        el: el,
                        x: Math.random() * window.innerWidth,
                        y: Math.random() * window.innerHeight,
                        speed: Math.random() * 1 + 0.5, // Fall speed
                        size: size,
                        drift: Math.random() * 0.5 - 0.25 // Natural wobble
                    });
                }

                // Mouse move listener
                window.addEventListener('mousemove', (e) => {
                    mouseX = e.clientX;
                });

                function update() {
                    const winW = window.innerWidth;
                    const winH = window.innerHeight;
                    
                    // Calculate wind based on mouse distance from center
                    // Mapping: Center = 0 wind. Left edge = -2 wind. Right edge = +2 wind.
                    const distFromCenter = (mouseX - (winW / 2)) / (winW / 2);
                    targetWindX = distFromCenter * 3; // Max wind speed
                    
                    // Smooth wind transition
                    currentWindX += (targetWindX - currentWindX) * 0.05;

                    flakes.forEach(f => {
                        // Update position
                        f.y += f.speed;
                        f.x += f.drift + currentWindX;

                        // Wrap around screen
                        if (f.y > winH) {
                            f.y = -10;
                            f.x = Math.random() * winW;
                        }
                        if (f.x > winW) {
                            f.x = 0;
                        } else if (f.x < 0) {
                            f.x = winW;
                        }

                        // Apply transform
                        f.el.style.transform = `translate(${f.x}px, ${f.y}px)`;
                    });

                    requestAnimationFrame(update);
                }

                update();
            }

            // --- 3. Scroll-Reveal Effect ---
            function initScrollReveal() {
                const revealItems = document.querySelectorAll('.reveal-item');
                
                const observerOptions = {
                    root: null,
                    rootMargin: '0px',
                    threshold: 0.1
                };

                const observer = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('is-visible');
                            observer.unobserve(entry.target);
                        }
                    });
                }, observerOptions);

                revealItems.forEach((item, index) => {
                    item.style.setProperty('--reveal-delay', `${index * 100}ms`);
                    observer.observe(item);
                });
            }

            // --- 4. Custom Cursor Logic ---
            function initCustomCursor() {
                const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
                if (isTouchDevice) return;

                window.addEventListener('mousemove', (e) => {
                    const { clientX, clientY } = e;
                    cursorDot.style.left = `${clientX}px`;
                    cursorDot.style.top = `${clientY}px`;
                    
                    cursorOutline.style.left = `${clientX}px`;
                    cursorOutline.style.top = `${clientY}px`;
                });
            }
            
            // --- 5. Cursor Hover Effect ---
            function initCursorHover() {
                const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
                if (isTouchDevice) return;
            
                // Include status-btn in hover effect
                const hoverItems = document.querySelectorAll('.gift-card-link, .info-btn'); 
                hoverItems.forEach(item => {
                    item.addEventListener('mouseenter', () => {
                        cursorOutline.classList.add('grow');
                    });
                    item.addEventListener('mouseleave', () => {
                        cursorOutline.classList.remove('grow');
                    });
                });
            }

            // --- 6. Parallax Hero Effect ---
            function handleScroll() {
                const heroText = document.querySelector('.hero-text');
                const heroHeader = heroText ? heroText.closest('header') : null;
                
                if (heroText && heroHeader) {
                    const scrollY = window.scrollY;
                    const heroHeight = heroHeader.offsetHeight;
                    
                    if (scrollY < heroHeight) {
                        const progress = scrollY / heroHeight;
                        heroText.style.transform = `translateY(${scrollY * 0.4}px)`;
                        heroText.style.opacity = (1 - progress).toString();
                    }
                }
            }
            
            // --- 7. Wonderland Popup and Music Trigger ---
            function initWonderland() {
                const music = document.getElementById('bg-music');
                const overlay = document.getElementById('wonderland-overlay');
                const mainContent = document.getElementById('main-content');

                if (!music || !overlay || !mainContent) return;

                async function enterWonderland() {
                    try {
                        await music.play();
                    } catch (err) {
                        console.log("Music play failed. User may need to interact again.", err);
                    }
                    overlay.classList.add('opacity-0');
                    mainContent.classList.remove('blur-md');
                    setTimeout(() => {
                        overlay.classList.add('hidden');
                    }, 500);
                }

                overlay.addEventListener('click', enterWonderland, { once: true });
            }

            // --- 8. Info Popup Logic ---
            function initInfoPopups() {
                const grid = document.getElementById('gift-grid');
                if (!grid) return;

                grid.addEventListener('click', (e) => {
                    const infoButton = e.target.closest('.info-btn');
                    if (infoButton) {
                        e.preventDefault();
                        e.stopPropagation();

                        const targetId = infoButton.dataset.target;
                        const popup = document.getElementById(targetId);
                        if (!popup) return;

                        document.querySelectorAll('.info-popup.is-visible').forEach(p => {
                            if (p.id !== targetId) {
                                p.classList.remove('is-visible');
                            }
                        });
                        popup.classList.toggle('is-visible');
                    }
                });

                document.addEventListener('click', (e) => {
                    if (!e.target.closest('.info-btn') && !e.target.closest('.info-popup')) {
                        document.querySelectorAll('.info-popup.is-visible').forEach(p => {
                            p.classList.remove('is-visible');
                        });
                    }
                });
            }

            // Run initialization
            renderGifts();
            initCustomCursor();
            initInteractiveSnow(); // REPLACED: New JS snow logic
            initWonderland(); 
            initInfoPopups();
            
            window.addEventListener('scroll', handleScroll);
        });
    </script>

</body>
</html>
